<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta charset="UTF-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        
        <!-- google fonts -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css?family=Poppins:400,600,800" rel="stylesheet">

        <!-- PWA functionality-->
        <link rel="canonical" href="https://afrotalk.github.io/" />
        <link rel="manifest" href="/manifest.webmanifest">

        <!-- stylesheet-->
        <link rel="stylesheet" href="styles/main.css">

        <link rel="icon" href="assets/logo/logo.png">
        
        <title>AfroTalk | Learn African Languages</title>
         
    </head>
    
    <body>


            


            <div id="fadeCover"></div>


            <div id="navbar">
                <div id="navbarContent">
                    <img src="assets/logo/logo.png" style="opacity:1">
                    <div></div>
                    <img id="navbarVocab" src="assets/navigation/apple.png" onclick="openPage('vocabSelectPage')">
                    <img id="navbarConvo" src="assets/navigation/chat.png" onclick="openPage('convoSelectPage')">
                    <img id="navbarFlag" src="assets/flags/usa.png" onclick="chooseLanguage()">
                    <img id="navbarDownload" src="assets/navigation/download.png">
                </div>
            </div>

            <img id="closeButton" onclick="fadeReload()" src="assets/svg/close.svg" style="display: none;" class="desktop">



            <!-- VOCAB PAGE -->
            <div id="vocabPage" class="page">
                <div id="vocabGameplay">
                    <div id="barHolderVocab">
                        <div id="progressBarVocab">
                            <div id="progressBarPercentVocab">
                                <div></div>
                            </div>
                        </div>

                        <img id="closeConvoVocab" onclick="fadeReload()" src="assets/svg/close.svg" class="mobile" style="padding-left:10px">
                    </div>

                    <h2 id="vocabWord">How do you say: "Blah"</h2>
                    <div id="vocabOptions">
                        <p id="vocabOpt1">Bloo</p>
                        <p id="vocabOpt2">Plap</p>
                        <p id="vocabOpt3">Skloo</p>
                        <p id="vocabOpt4">Sploo</p>
                    </div>

                    <button id="continueButtonVocab" onclick="nextVocab()">Continue</button>
                </div>

                <div id="vocabComplete" style="display: none;">
                    
                    
                    <img id="completeStarsVocab" src="assets/stars/2star.png" style="opacity:0">
                    <h1 id="completeHeaderVocab" style="opacity: 0;">Complete!</h1>
                    
                    <br><br><br>
                    
                    <div style="display: flex;">
                        <button id="endVocabButton" class="endButton" onclick="fadeReload()" style="opacity: 0;">Continue</button>
                    </div>
                    
                </div>

            </div>

            <!-- VOCAB SELECT PAGE -->
            <div id="vocabSelectPage" class="page">
                <div class="pageHeader">
                    <h1 id="vocabHeader">Vocabulary</h1>
                    <p id="vocabDesc">Learn new words and phrases!</p>
                    
                </div>

                <div id="vocabSelectHolder">

                </div>

                <div style="height: 20vh;"></div>
                <p id="disclaimer1" class="disclaimer"></p>
            </div>

            <!-- CONVERSATION PAGE -->
            <div id="convoPage" class="page">
                <div id="barHolder">
                    <div id="progressBar">
                        <div id="progressBarPercent">
                            <div></div>
                        </div>
                    </div>

                    <img id="closeConvo" onclick="fadeReload()" src="assets/svg/close.svg" class="mobile" style="padding-left:10px">
                </div>
                <div id="dialogueHolder">
                    <div id="botDialogue">
                        <img id="botAvatar" src="assets/faces/mimi.png">
                        <p id="botText" class="textOption"></p>
                    
                    </div>
                    <br><br>

                    <div id="userDialogue">
                        <p id="choosePrompt"></p>
                        <p class="textOption" id="option1"></p>
                        <p class="textOption" id="option2"></p>
                        <p class="textOption" id="option3"></p>
                        <p class="textOption" id="option4"></p>
                    </div>

                    <div style="display: flex;margin-top:60px;">
                        <button id="continueButton" onclick="nextDialogue()">Continue</button>
                        <button id="hintButton" onclick="toggleTranslate(true)"><img src="assets/svg/hint-bulb-gray.svg"></button>
                    </div>
                </div>

                <div id="convoComplete" style="display: none;">
                    
                    
                    <img id="completeStars" src="assets/stars/2star.png" style="opacity:0;">
                    <h1 id="completeHeader" style="opacity: 0;">Complete!</h1>
                    
                    <br><br><br>
                    
                    <div style="display: flex;">
                        <button class="endButton" id="endConvoButton" onclick="fadeReload()" style="opacity: 0;">Continue</button>
                    </div>
                    
                </div>
            </div>


            <!-- CONVERSATION SELECT PAGE -->
            <div id="convoSelectPage" class="page">
                <div class="pageHeader">
                    <h1><span id="convoHeader"></span></h1>
                    <p id="convoDesc">Practice your speaking skills in real-life situations!</p>
                    
                </div>

                <div id="selectHolder"></div>
                <div style="height: 20vh;"></div>
                <p id="disclaimer1" class="disclaimer"></p>
            </div>

            <!-- LANGUAGE SELECT PAGE -->
            <div id="languagePage" class="page">
                <br><br>
                    <h2 class="logo" style="text-align: center;"><img src='assets/logo/logo.png'>AfroTalk</h2>
                <br>
                <div id="languageHolder"></div>
                
            </div>

            <div style="height: 10vh;"></div>

        <script>const langFlags = ["usa.png","tanzania.png","nigeria.png","nigeria.png","niger.png"];</script>
        <script src="scripts/page-system.js"></script>
        <script src="scripts/choose-language.js"></script>
        <script src="scripts/local-storage-vars.js"></script>
        <script src="scripts/translate.js"></script>
        <script src="scripts/convo-list.js"></script>
        <script src="scripts/convo.js"></script>
        <script src="scripts/convo-select.js"></script>
        <script src="scripts/vocab-list.js"></script>
        <script src="scripts/vocab.js"></script>
        <script src="scripts/vocab-select.js"></script>
        <script>
            if(!choosingLang){
                openPage(localStorage.getItem("lastPage"));
                //set flag on navbar
                document.getElementById("navbarFlag").setAttribute("src", "assets/flags/" + langFlags[parseInt(localStorage.getItem("learnLang"))]);

            }

            // PWA download functionality
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                deferredPrompt = e;
            });

            const installButton = document.getElementById('navbarDownload');
            installButton.addEventListener('click', async () => {
                // check if ios first, cuz of their weird PWA rules
                if (['iPad Simulator','iPhone Simulator','iPod Simulator','iPad','iPhone','iPod'].includes(navigator.platform) || (navigator.userAgent.includes("Mac") && "ontouchend" in document)){
                    alert("It looks like you're on an IOS device, which doesn't allow direct downloads from the web. Instead, you should hit the Share button, and then \"Add to Home Screen\".");
                    return;
                }
                if (deferredPrompt !== null) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        deferredPrompt = null;
                    }
                }
            });
            
        </script>

        
        
        

        
        
    </body>
    
</html>